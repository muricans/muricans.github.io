<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: logger.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: logger.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const fs = require('fs');
const settings = require('./settings.json');
const chalk = require('chalk');

const mbotLogStream = fs.createWriteStream('logs/mbot.log');
const isFileLogging = settings.fileLogging;

/**
 * Used to have more detailed logging.
 * @example
 * const Logger = require('./logger');
 * Logger.info('Connected to logger!');
 */
class Logger {
    /**
     * Use debug tag when logging to console.
     * 
     * @param {string} text The text you want to send to console.
     */
    static debug(text) {
        if (settings.debug) {
            rawLog(text, 'DEBUG');
        }
    }

    /**
     * Use file tag when logging to console.
     * 
     * @param {string} text The text you want to send to console.
     */
    static file(text) {
        rawLog(text, 'FILE');
    }

    /**
     * Use info tag when logging to console.
     * 
     * @param {string} text The text you want to send to console.
     */
    static info(text) {
        rawLog(text, 'INFO');
    }

    /**
     * Use error tag when logging to console.
     * 
     * @param {string} text The text you want to send to console.
     */
    static error(text) {
        rawLog(text, 'ERROR');
    }

    /**
     * Use warn tag when logging to console.
     * 
     * @param {string} text The text you want to send to console.
     */
    static warn(text) {
        rawLog(text, 'WARN');
    }

    /**
     * Use no tag when logging to console. 
     * 
     * @param {string} text The text you want to send to console.
     */
    static log(text) {
        console.log(`[${time()}]: ${text}`);
    }
}

function rawLog(message, type) {
    const open = chalk.yellow('[');
    const close = chalk.yellow(']');
    type = chalk.blue('LEVEL-' + type);
    console.log(`${open}${chalk.green(time())} ${type}${close}: ${message}`);
    if (isFileLogging) {
        mbotLogStream.write(writeLog(message, type));
    }
}

function writeLog(message, type) {
    return `[${time()} LEVEL-${type}]: ${message}\n`;
}

function time() {
    const date = new Date();

    let hour = date.getHours();
    hour = (hour &lt; 10 ? "0" : "") + hour;

    let min = date.getMinutes();
    min = (min &lt; 10 ? "0" : "") + min;

    let sec = date.getSeconds();
    sec = (sec &lt; 10 ? "0" : "") + sec;

    return `${hour}:${min}:${sec}`;
}

module.exports = Logger;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Event.html">Event</a></li><li><a href="File.html">File</a></li><li><a href="Logger.html">Logger</a></li><li><a href="Tools.html">Tools</a></li></ul><h3>Global</h3><ul><li><a href="global.html#adminCommands">adminCommands</a></li><li><a href="global.html#cCommands">cCommands</a></li><li><a href="global.html#event">event</a></li><li><a href="global.html#getUptime">getUptime</a></li><li><a href="global.html#registerCommands">registerCommands</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.2</a> on Sun Jun 09 2019 19:24:25 GMT-0500 (Central Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
