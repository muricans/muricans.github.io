<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>discord-embedbuilder</title>
	<meta name="description" content="Documentation for discord-embedbuilder">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">discord-embedbuilder</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1>discord-embedbuilder</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#discord-embedbuilder" id="discord-embedbuilder" style="color: inherit; text-decoration: none;">
					<h1>discord-embedbuilder</h1>
				</a>
				<p><a href="https://david-dm.org/muricans/discord-embedbuilder"><img src="https://david-dm.org/muricans/discord-embedbuilder/status.svg" alt="dependencies Status"></a></p>
				<p><a href="https://nodei.co/npm/discord-embedbuilder"><img src="https://nodei.co/npm/discord-embedbuilder.png?downloads=true" alt="NPM"></a></p>
				<p>npm module to make creating embeds with mutliple pages a little bit easier</p>
				<p><a href="http://github.muricans.xyz/embedbuilder">latest version documentation</a></p>
				<p><a href="http://github.muricans.xyz/embedbuilder/master">master documentation</a></p>
				<a href="#quick-install" id="quick-install" style="color: inherit; text-decoration: none;">
					<h2>Quick Install</h2>
				</a>
				<p>discord-embedbuilder v3.2.1 (current stable)</p>
				<p><code>npm install discord-embedbuilder</code></p>
				<p>discord-embedbuilder master (v3.3.0) (latest features &amp; fixes)</p>
				<p><code>npm install muricans/discord-embedbuilder</code></p>
				<p>discord-embedbuilder uses the latest stable version of discord.js (12.3.1)</p>
				<a href="#methods" id="methods" style="color: inherit; text-decoration: none;">
					<h2>Methods</h2>
				</a>
				<p>All methods that have the same names as the ones from <a href="https://discord.js.org/#/docs/main/stable/class/MessageEmbed">MessageEmbed</a> do the same actions as those, but applies it to all of the pages, which should override their values.</p>
				<a href="#usepagesuse" id="usepagesuse" style="color: inherit; text-decoration: none;">
					<h3><code>usePages(use)</code></h3>
				</a>
				<p>If this is set to false, the builder will not use the next, back, last, first, stop emotes.</p>
				<hr/>
				<a href="#changechannelchannel" id="changechannelchannel" style="color: inherit; text-decoration: none;">
					<h3><code>changeChannel(channel)</code></h3>
				</a>
				<p>Change the current channel.</p>
				<p><strong><span style="color:red">Warning:</span></strong> This should not be used to set the channel. You can set the channel in the constructor.</p>
				<hr/>
				<a href="#setembedsembeds" id="setembedsembeds" style="color: inherit; text-decoration: none;">
					<h3><code>setEmbeds(embeds)</code></h3>
				</a>
				<p>The array of MessageEmbeds put here will be the ones that are used to make the pages. You can also add embeds using addEmbed.</p>
				<hr/>
				<a href="#addembedembed" id="addembedembed" style="color: inherit; text-decoration: none;">
					<h3><code>addEmbed(embed)</code></h3>
				</a>
				<p>Adds a MessageEmbed to the array of embeds.</p>
				<hr/>
				<a href="#concatembedsembeds" id="concatembedsembeds" style="color: inherit; text-decoration: none;">
					<h3><code>concatEmbeds(embeds)</code></h3>
				</a>
				<p>Puts the array of embeds given at the end of the current embeds array.</p>
				<hr/>
				<a href="#setendcolorcolor" id="setendcolorcolor" style="color: inherit; text-decoration: none;">
					<h3><code>setEndColor(color)</code></h3>
				</a>
				<p>When the collection has ended, and no other custom color is being used, this will be the color the embed is set to. Default is 0xE21717</p>
				<hr/>
				<a href="#settimetime" id="settimetime" style="color: inherit; text-decoration: none;">
					<h3><code>setTime(time)</code></h3>
				</a>
				<p>This will set how long the builder should listen for emotes. Make sure to set your time as milliseconds.</p>
				<hr/>
				<a href="#addtimetime" id="addtimetime" style="color: inherit; text-decoration: none;">
					<h3><code>addTime(time)</code></h3>
				</a>
				<p>Use after the embed has been built. Will increase the amount of time the collector is active before it stops.</p>
				<hr/>
				<a href="#resettimertime" id="resettimertime" style="color: inherit; text-decoration: none;">
					<h3><code>resetTimer(time?)</code></h3>
				</a>
				<p>Resets the timer to either the time already set, or a new time given.</p>
				<hr/>
				<a href="#addtimeonpagetime" id="addtimeonpagetime" style="color: inherit; text-decoration: none;">
					<h3><code>addTimeOnPage(time)</code></h3>
				</a>
				<p>Whenever the builder changes it&#39;s page, it will add specified amount of time (ms) to the current running timer.</p>
				<hr/>
				<a href="#resettimeronpage" id="resettimeronpage" style="color: inherit; text-decoration: none;">
					<h3><code>resetTimerOnPage()</code></h3>
				</a>
				<p>Whenever the builder changes it&#39;s page, it will reset the timer to the current set time.</p>
				<hr/>
				<a href="#addemojiemoji-sent-page-builder-emoji" id="addemojiemoji-sent-page-builder-emoji" style="color: inherit; text-decoration: none;">
					<h3><code>addEmoji(emoji, (sent, page, builder, emoji))</code></h3>
				</a>
				<p>This will insert the provided emoji into the builder, and when it is clicked it will perform the action that is provided.</p>
				<pre><code class="language-javascript">builder.addEmoji(<span class="hljs-string">&#x27;❗&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">sent, page, emoji</span>) =&gt;</span> {
    sent.delete();
    builder.cancel();
    sent.channel.send(<span class="hljs-string">`A new message<span class="hljs-subst">${emoji}</span>\nThe page you were on before was <span class="hljs-subst">${page}</span>`</span>);
});</code></pre>
				<hr/>
				<a href="#addemojisemojis" id="addemojisemojis" style="color: inherit; text-decoration: none;">
					<h3><code>addEmojis(emojis)</code></h3>
				</a>
				<p>Add multiple emojis to do different actions.</p>
				<pre><code class="language-javascript">builder.addEmojis([{
    <span class="hljs-string">&#x27;❗&#x27;</span>: <span class="hljs-function">(<span class="hljs-params">sent, page, emoji</span>) =&gt;</span> {
        builder.cancel();
        sent.delete();
        sent.channel.send(<span class="hljs-string">`A new message<span class="hljs-subst">${emoji}</span>\nThe page you were on before was <span class="hljs-subst">${page}</span>`</span>);
    },
}]);</code></pre>
				<hr/>
				<a href="#deleteemojiemoji" id="deleteemojiemoji" style="color: inherit; text-decoration: none;">
					<h3><code>deleteEmoji(emoji)</code></h3>
				</a>
				<p>Deletes an emoji from the list of emojis.</p>
				<hr/>
				<a href="#cancelcallback" id="cancelcallback" style="color: inherit; text-decoration: none;">
					<h3><code>cancel(callback?)</code></h3>
				</a>
				<p>Cancels the builder before the timer ends.</p>
				<p>If a callback is provided, it will execute after the builder has canceled.</p>
				<hr/>
				<a href="#showpagenumberuse" id="showpagenumberuse" style="color: inherit; text-decoration: none;">
					<h3><code>showPageNumber(use)</code></h3>
				</a>
				<p>If set to true (by default it is true), it will show the current page on the footer of the embed. (Page x/y)</p>
				<hr/>
				<a href="#setpageformatformat" id="setpageformatformat" style="color: inherit; text-decoration: none;">
					<h3><code>setPageFormat(format)</code></h3>
				</a>
				<p>If showing page numbers, this is the format that will be used.</p>
				<p>By default format is %p/%m which converts to current/max.</p>
				<hr/>
				<a href="#calculatepagesdata-dataperpage-insert" id="calculatepagesdata-dataperpage-insert" style="color: inherit; text-decoration: none;">
					<h3><code>calculatePages(data, dataPerPage, insert)</code></h3>
				</a>
				<p>This calculates pages for the builder to work with.</p>
				<pre><code class="language-javascript"><span class="hljs-comment">/*
This will generate a builder with a data length set to an array.
It will have 10 fields per page, which will all be inline, containing username and points data.
*/</span>
embedBuilder.calculatePages(users.length, <span class="hljs-number">10</span>, <span class="hljs-function">(<span class="hljs-params">embed, i</span>) =&gt;</span> {
    embed.addField(users[i].username, users[i].points, <span class="hljs-literal">true</span>);
});</code></pre>
				<hr/>
				<a href="#calculatepagesasyncdata-dataperpage-insert" id="calculatepagesasyncdata-dataperpage-insert" style="color: inherit; text-decoration: none;">
					<h3><code>calculatePagesAsync(data, dataPerPage, insert)</code></h3>
				</a>
				<p>Async version of calculatePages</p>
				<p>Makes the page calculator wait for operations to finish.</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">await</span> embedBuilder.calculatePagesAsync(users.length, <span class="hljs-number">10</span>, <span class="hljs-keyword">async</span> (embed, i) =&gt; {
    <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> getSomeUser(users[i]);
    embed.addField(user.username, user.points, <span class="hljs-literal">true</span>);
});</code></pre>
				<hr/>
				<a href="#updatepagepage" id="updatepagepage" style="color: inherit; text-decoration: none;">
					<h3><code>updatePage(page)</code></h3>
				</a>
				<p>Updates the current page to the one set there. This checks if the page is valid itself. Make sure the first page of the builder has already gone through before using this.</p>
				<hr/>
				<a href="#setpageemojiemoji-newemoji" id="setpageemojiemoji-newemoji" style="color: inherit; text-decoration: none;">
					<h3><code>setPageEmoji(emoji, newEmoji)</code></h3>
				</a>
				<p>Replaces current type of emoji given with the new emoji provided.</p>
				<p>Types allowed: back, first, stop, last, next</p>
				<hr/>
				<a href="#awaitpageupdateuser-options" id="awaitpageupdateuser-options" style="color: inherit; text-decoration: none;">
					<h3><code>awaitPageUpdate(user, options)</code></h3>
				</a>
				<p><a href="http://github.muricans.xyz/embedbuilder/master/interfaces/pageupdateoptions.html">options</a></p>
				<p>Create an updater to await responses from a user,
				then set the builders current page to the page given.</p>
				<hr/>
				<a href="#defaultreactionsreactions" id="defaultreactionsreactions" style="color: inherit; text-decoration: none;">
					<h3><code>defaultReactions(reactions)</code></h3>
				</a>
				<p>The reactions the bot will use. If this  method is not used in the builder, the bot will automatically add all reactions.</p>
				<pre><code class="language-javascript"><span class="hljs-comment">/*
* This builder will only use the stop and back emojis. 
* Using this also allows you to rearrange the order in which the bot will react with the emojis.
*/</span>
embedBuilder.defaultReactions([<span class="hljs-string">&#x27;stop&#x27;</span>, <span class="hljs-string">&#x27;back&#x27;</span>]);</code></pre>
				<hr/>
				<a href="#events" id="events" style="color: inherit; text-decoration: none;">
					<h2>Events</h2>
				</a>
				<a href="#create" id="create" style="color: inherit; text-decoration: none;">
					<h3><a href="http://github.muricans.xyz/embedbuilder/classes/embedbuilder.html#create"><code>create</code></a></h3>
				</a>
				<p>Emitted from build() when the first page has finished building.</p>
				<a href="#stop" id="stop" style="color: inherit; text-decoration: none;">
					<h3><a href="http://github.muricans.xyz/embedbuilder/classes/embedbuilder.html#stop"><code>stop</code></a></h3>
				</a>
				<p>Emitted from build() when the timer has run out, or the collector is canceled in any way.</p>
				<a href="#pageupdate" id="pageupdate" style="color: inherit; text-decoration: none;">
					<h3><a href="http://github.muricans.xyz/embedbuilder/classes/embedbuilder.html#pageupdate"><code>pageUpdate</code></a></h3>
				</a>
				<p>Emitted from from build() when the builder has changed pages. Sets the new page for the bot.</p>
				<a href="#presend-master-only" id="presend-master-only" style="color: inherit; text-decoration: none;">
					<h3><a href="http://github.muricans.xyz/embedbuilder/master/classes/embedbuilder.html#presend"><code>preSend (master only)</code></a></h3>
				</a>
				<p>Emitted from build() before the first embed page has been sent in Discord.</p>
				<a href="#pageupdater" id="pageupdater" style="color: inherit; text-decoration: none;">
					<h2>PageUpdater</h2>
				</a>
				<p>PageUpdater documentation can be found <a href="http://github.muricans.xyz/embedbuilder/classes/pageupdater.html">here</a>.</p>
				<a href="#example" id="example" style="color: inherit; text-decoration: none;">
					<h2>Example</h2>
				</a>
				<p>First import discord-embedbuilder into your project.</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">const</span> {
    EmbedBuilder,
 } = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;discord-embedbuilder&#x27;</span>);</code></pre>
				<p>Create a command or some way to get a channel to pass through the builder. If you are unsure on how to make a command, checking <a href="https://discordjs.guide/">this</a> out might be helpful.</p>
				<p>Next make your embedbuilder.</p>
				<pre><code class="language-javascript">client.on(<span class="hljs-string">&#x27;message&#x27;</span>, <span class="hljs-function"><span class="hljs-params">message</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> builder = <span class="hljs-keyword">new</span> EmbedBuilder()
        .setChannel(message.channel)
        .setTime(<span class="hljs-number">60000</span>); <span class="hljs-comment">// Time is in milliseconds</span>
    <span class="hljs-keyword">const</span> myEmbedArray = [
        <span class="hljs-keyword">new</span> Discord.MessageEmbed().addField(<span class="hljs-string">&#x27;1st&#x27;</span>, <span class="hljs-string">&#x27;page&#x27;</span>),
        <span class="hljs-keyword">new</span> Discord.MessageEmbed().addField(<span class="hljs-string">&#x27;2nd&#x27;</span>, <span class="hljs-string">&#x27;page&#x27;</span>), 
        <span class="hljs-keyword">new</span> Discord.MessageEmbed().addField(<span class="hljs-string">&#x27;3rd&#x27;</span>, <span class="hljs-string">&#x27;page&#x27;</span>),
    ];
    builder
        .setEmbeds(myEmbedArray)
        .setTitle(<span class="hljs-string">&#x27;This title stays the same on all pages!&#x27;</span>)
        .build(); <span class="hljs-comment">// No need to send a message, building it will automatically do it.</span>
});</code></pre>
				<p>Here&#39;s an example taken from my bot <a href="https://github.com/muricans/rolesbot/">rolesbot</a></p>
				<pre><code class="language-javascript"><span class="hljs-keyword">const</span> rolebot = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;../rolebot&#x27;</span>);
<span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;fs&#x27;</span>);
<span class="hljs-keyword">const</span> {
    EmbedBuilder,
} = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;discord-embedbuilder&#x27;</span>);

<span class="hljs-built_in">module</span>.exports = {
    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;list&#x27;</span>,
    <span class="hljs-attr">description</span>: <span class="hljs-string">&#x27;Refreshes and lists all currently active role react messages.&#x27;</span>,
    <span class="hljs-attr">permissions</span>: [<span class="hljs-string">&#x27;MANAGE_GUILD&#x27;</span>],
    <span class="hljs-keyword">async</span> execute(message) {
        rolebot.refreshActiveMessagesFor(message.guild.id);
        <span class="hljs-keyword">const</span> messages = <span class="hljs-built_in">JSON</span>.parse(fs.readFileSync(<span class="hljs-string">&#x27;./messages.json&#x27;</span>, <span class="hljs-string">&#x27;utf-8&#x27;</span>));
        <span class="hljs-keyword">const</span> list = messages.ids.filter(<span class="hljs-function"><span class="hljs-params">v</span> =&gt;</span> v.guildId === message.guild.id);
        <span class="hljs-keyword">if</span> (list.length &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">const</span> builder = <span class="hljs-keyword">new</span> EmbedBuilder(message.channel);
            <span class="hljs-keyword">const</span> guild = <span class="hljs-keyword">await</span> message.guild.fetch();
            builder.calculatePages(list.length, <span class="hljs-number">8</span>, <span class="hljs-keyword">async</span> (embed, i) =&gt; {
                    <span class="hljs-keyword">const</span> channelName = guild.channels.cache.get(list[i].channelId);
                    <span class="hljs-keyword">const</span> roleName = guild.roles.cache.get(list[i].roleId);
                    embed.addField(<span class="hljs-string">&quot;Message ID&quot;</span>, list[i].messageId, <span class="hljs-literal">true</span>);
                    embed.addField(<span class="hljs-string">&quot;Channel&quot;</span>, <span class="hljs-string">`<span class="hljs-subst">${channelName}</span>`</span>, <span class="hljs-literal">true</span>);
                    embed.addField(<span class="hljs-string">&quot;Role&quot;</span>, <span class="hljs-string">`<span class="hljs-subst">${roleName}</span>`</span>, <span class="hljs-literal">true</span>);
                })
                .setTitle(<span class="hljs-string">&quot;List of All Active Messages&quot;</span>)
                .build();
        } <span class="hljs-keyword">else</span> {
            message.channel.send(<span class="hljs-string">`<span class="hljs-subst">${message.author}</span> No messages are currently registered in this guild!`</span>);
        }
    },
};</code></pre>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-class">
						<a href="classes/embedbuilder.html" class="tsd-kind-icon">Embed<wbr>Builder</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/pageupdater.html" class="tsd-kind-icon">Page<wbr>Updater</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/pageupdateoptions.html" class="tsd-kind-icon">Page<wbr>Update<wbr>Options</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>